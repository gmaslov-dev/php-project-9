### Hexlet tests and linter status:
[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=gmaslov-dev_php-project-9&metric=alert_status)](https://sonarcloud.io/summary/new_code?id=gmaslov-dev_php-project-9)
[![Actions Status](https://github.com/gmaslov-dev/php-project-9/actions/workflows/hexlet-check.yml/badge.svg)](https://github.com/gmaslov-dev/php-project-9/actions)
[![project-check](https://github.com/StandAlone404/php-project-48/actions/workflows/project-check.yml/badge.svg)](https://github.com/gmaslov-dev/php-project-9/actions/workflows/project-check.yml)
---
# [–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü](https://php-project-9-9cq6.onrender.com/)

**–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü** ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ SEO-–ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å [PageSpeed Insights](https://pagespeed.web.dev/).

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ [Hexlet](https://hexlet.io) –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ PHP.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö SEO-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (title, h1, description)
- –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–≥–æ URL
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–µ–¥—ë–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
- Responsive –¥–∏–∑–∞–π–Ω –Ω–∞ Bootstrap 5

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Backend:**
- PHP 8.x
- [Slim Framework 4](https://www.slimframework.com/) ‚Äî –º–∏–∫—Ä–æ—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [Twig](https://twig.symfony.com/) ‚Äî —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
- PDO ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- [Guzzle](https://docs.guzzlephp.org/) ‚Äî HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–º —Å–∞–π—Ç–∞–º
- [DiDOM](https://github.com/Imangazaliev/DiDOM) ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ HTML-–∫–æ–Ω—Ç–µ–Ω—Ç–∞

**Frontend:**
- Bootstrap 5

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- PostgreSQL ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- [Render.com](https://render.com) ‚Äî —Ö–æ—Å—Ç–∏–Ω–≥ (PaaS)

**Dev Tools:**
- PHP_CodeSniffer ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- PHPStan ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
- Composer ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP >= 8.1
- Composer
- PostgreSQL >= 13
- –†–∞—Å—à–∏—Ä–µ–Ω–∏—è PHP: pdo, pdo_pgsql, dom

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/gmaslov-dev/php-project-9.git
cd php-project-9
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
composer install
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
DATABASE_URL=postgresql://username:password@localhost:5432/page_analyzer
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
make db-init
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:

```bash
php bin/init_db.php
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
make start
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü–∞ `urls`:**
- `id` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` ‚Äî URL —Å–∞–π—Ç–∞
- `created_at` ‚Äî –¥–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

**–¢–∞–±–ª–∏—Ü–∞ `url_checks`:**
- `id` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏
- `url_id` ‚Äî —Å–≤—è–∑—å —Å —Ç–∞–±–ª–∏—Ü–µ–π urls
- `status_code` ‚Äî HTTP —Å—Ç–∞—Ç—É—Å-–∫–æ–¥
- `h1` ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–µ–≥–∞ h1
- `title` ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–µ–≥–∞ title
- `description` ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ meta description
- `created_at` ‚Äî –¥–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –í–≤–µ–¥–∏—Ç–µ URL —Å–∞–π—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"
4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
5. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

### –õ–∏–Ω—Ç–∏–Ω–≥

```bash
composer lint
```

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

```bash
composer analyse
```
üß∞ Makefile

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–¥–æ–±–Ω—ã–π Makefile, –∫–æ—Ç–æ—Ä—ã–π —É—Å–∫–æ—Ä—è–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –¥–ª–∏–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.

‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```makefile
PORT ?= 8000

start:
PHP_CLI_SERVER_WORKERS=5 php -S 0.0.0.0:$(PORT) -t public

install:
composer install

db-init:
php bin/init_db.php

analyse:
php -d memory_limit=-1 vendor/bin/phpstan analyse

lint:
composer lint
```

üîç –û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–µ–π

| –ö–æ–º–∞–Ω–¥–∞       | –î–µ–π—Å—Ç–≤–∏–µ                                                     |
|---------------|--------------------------------------------------------------|
| `make start`  | –ó–∞–ø—É—Å–∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ PHP-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ `PORT` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8000) |
| `make install`| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Composer                        |
| `make db-init`| –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `bin/init_db.php`            |
| `make analyse`| –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ PHPStan                           |
| `make lint`   | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞ PHP_CodeSniffer                          |


## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
```bash
./src
‚îú‚îÄ‚îÄ Config/                  #–ö–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ AppConfig.php
‚îú‚îÄ‚îÄ Controller/              # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ BaseController.php
‚îÇ   ‚îú‚îÄ‚îÄ CheckController.php
‚îÇ   ‚îú‚îÄ‚îÄ PageController.php
‚îÇ   ‚îî‚îÄ‚îÄ UrlController.php
‚îú‚îÄ‚îÄ Database/                # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ Connection.php
‚îú‚îÄ‚îÄ Entity/                  # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Data Objects)
‚îÇ   ‚îú‚îÄ‚îÄ Check.php
‚îÇ   ‚îú‚îÄ‚îÄ Url.php
‚îÇ   ‚îî‚îÄ‚îÄ UrlWithLastCheck.php
‚îú‚îÄ‚îÄ Handler/                 # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –æ—à–∏–±–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ ErrorHandler.php
‚îú‚îÄ‚îÄ Initializer/             # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ContainerInitializer.php
‚îÇ   ‚îú‚îÄ‚îÄ MiddlewareInitializer.php
‚îÇ   ‚îî‚îÄ‚îÄ RouteInitializer.php
‚îú‚îÄ‚îÄ Repository/              # –°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (Data Access Layer)
‚îÇ   ‚îú‚îÄ‚îÄ CheckRepository.php
‚îÇ   ‚îî‚îÄ‚îÄ UrlRepository.php
‚îú‚îÄ‚îÄ Service/                 # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ CheckService.php
‚îÇ   ‚îú‚îÄ‚îÄ UrlCheckerService.php
‚îÇ   ‚îî‚îÄ‚îÄ UrlCheckService.php
‚îÇ   ‚îî‚îÄ‚îÄ UrlService.php
‚îî‚îÄ‚îÄ Validator/               # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    ‚îî‚îÄ‚îÄ UrlValidator.php
```
## üìö –ß—Ç–æ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ

- ‚úÖ –ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ HTTP-–ø—Ä–æ—Ç–æ–∫–æ–ª
- ‚úÖ –†–æ—É—Ç–∏–Ω–≥ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–º–µ—Ç–æ–¥–æ–≤ (GET, POST)
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–º Twig
- ‚úÖ –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã, —Å–≤—è–∑–∏)
- ‚úÖ SQL-–∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ PDO
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API (HTTP-–∑–∞–ø—Ä–æ—Å—ã)
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ HTML-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ Flash-—Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è UX
- ‚úÖ Bootstrap –¥–ª—è frontend
- ‚úÖ –î–µ–ø–ª–æ–π –Ω–∞ PaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É

## üë§ –ê–≤—Ç–æ—Ä

**Gennady Maslov**
- Email: gennadiy.dev@yandex.ru
- GitHub: [@gmaslov-dev](https://github.com/gmaslov-dev)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö –≤ —Ä–∞–º–∫–∞—Ö –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Hexlet.

---

‚≠êÔ∏è –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!